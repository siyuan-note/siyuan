## 概述

該版本支援了資料庫按字段分組並改進了大量細節。

請注意：

* 舊版無法開啟新版的資料庫，如果你使用的行動端是在商店安裝的，建議等商店上架新版本後再更新桌面端
* 資料庫範本的多選欄位值從字串變更為字串數組，請參考[這裡](https://github.com/siyuan-note/siyuan/issues/15575#issuecomment-3210963948)進行適配

## 變更記錄

以下是此版本中的詳細變更。

### 引入特性

* [資料庫依欄位分組](https://github.com/siyuan-note/siyuan/issues/10964)

### 改進功能

* [改進「加入資料庫」](https://github.com/siyuan-note/siyuan/issues/10659)
* [改進資料庫欄位預設填入](https://github.com/siyuan-note/siyuan/issues/11966)
* [資料庫匯總欄位支援使用範本欄位](https://github.com/siyuan-note/siyuan/issues/12384)
* [閃卡為文件時顯示標題](https://github.com/siyuan-note/siyuan/issues/14201)
* [改進資料庫區塊綁定](https://github.com/siyuan-note/siyuan/issues/14511)
* [改進匯出預覽模式 CSS 變數值填色](https://github.com/siyuan-note/siyuan/pull/15110)
* [卡片視圖支援顯示欄位名稱](https://github.com/siyuan-note/siyuan/issues/15180)
* [改進文件標題回車處理](https://github.com/siyuan-note/siyuan/issues/15294)
* [提升大量內容貼上效能](https://github.com/siyuan-note/siyuan/issues/15306)
* [改進自訂程式碼區塊行號顯示](https://github.com/siyuan-note/siyuan/pull/15324)
* [改善資料同步，避免因折疊塊導致的衝突](https://github.com/siyuan-note/siyuan/issues/15329)
* [刪除區塊時在某些情況下不再在文件開頭新增空區塊](https://github.com/siyuan-note/siyuan/issues/15336)
* [改進範本搜尋高亮](https://github.com/siyuan-note/siyuan/issues/15338)
* [匯出預覽模式支援聚焦使用](https://github.com/siyuan-note/siyuan/issues/15340)
* [匯出預覽時程式碼區塊保留屬性](https://github.com/siyuan-note/siyuan/issues/15343)
* [支援程式碼區塊高亮模板語法並將程式碼區塊範本匯出為段落](https://github.com/siyuan-note/siyuan/pull/15345)
* [「重新 OCR」在 Tesseract 未啟用時彈出視窗提示](https://github.com/siyuan-note/siyuan/issues/15367)
* [改進 `<br>` 輸入解析](https://github.com/siyuan-note/siyuan/issues/15373)
* [更新 highlight.js 插件](https://github.com/siyuan-note/siyuan/pull/15386)
* [改進卡片視圖顯示](https://github.com/siyuan-note/siyuan/issues/15389)
* [改進狀態列索引建立資訊提示](https://github.com/siyuan-note/siyuan/issues/15390)
* [改進標籤中表情符號的搜尋](https://github.com/siyuan-note/siyuan/issues/15391)
* [文件支援複製為 Markdown](https://github.com/siyuan-note/siyuan/pull/15397)
* [資料庫匯總欄位支援複製為副本](https://github.com/siyuan-note/siyuan/issues/15417)
* [改進 HTML 剪藏](https://github.com/siyuan-note/siyuan/issues/15438)
* [當 .sy 檔案或資料庫 .json 超過 8MB 時提醒使用者](https://github.com/siyuan-note/siyuan/issues/15451)
* [限制資料庫標題為 512 個字元](https://github.com/siyuan-note/siyuan/issues/15459)
* [「上傳資源檔案到雲端」支援聚焦使用](https://github.com/siyuan-note/siyuan/issues/15462)
* [改進匯出 PDF 樣式](https://github.com/siyuan-note/siyuan/pull/15463)
* [貼上時解析 `<img>` 標籤](https://github.com/siyuan-note/siyuan/issues/15464)
* [資料庫範本欄位支援使用其他範本欄位](https://github.com/siyuan-note/siyuan/issues/15517)
* [改進資料庫「垂直拖曳填充值」](https://github.com/siyuan-note/siyuan/issues/15518)
* [標籤頁切換改進](https://github.com/siyuan-note/siyuan/issues/15546)
* [瀏覽資料庫表格目前視圖圖片時過濾隱藏列](https://github.com/siyuan-note/siyuan/pull/15548)
* [資料庫拖曳、效能與互動最佳化](https://github.com/siyuan-note/siyuan/issues/15552)
* [資料庫篩選條件未進行篩選計算時移除高亮](https://github.com/siyuan-note/siyuan/issues/15558)
* [改進資料庫範本欄位使用多重選取欄位](https://github.com/siyuan-note/siyuan/issues/15575)
* [改進導入時 `<img>` 標籤解析](https://github.com/siyuan-note/siyuan/issues/15638)
* [資料庫匯總欄位支援使用更新時間/建立時間欄位](https://github.com/siyuan-note/siyuan/issues/15662)
* [手動最佳化資料索引以減少空間佔用並提升效能](https://github.com/siyuan-note/siyuan/issues/15663)
* [改進資料庫屬性面板](https://github.com/siyuan-note/siyuan/issues/15664)
* [退出折疊塊時改進聚焦定位](https://github.com/siyuan-note/siyuan/issues/15670)

### 修復缺陷

* [資料庫選擇欄位若新增選項過快會遺失選項](https://github.com/siyuan-note/siyuan/issues/13261)
* [取消超級區塊時行內公式未渲染](https://github.com/siyuan-note/siyuan/issues/15341)
* [從資源資料夾拖曳檔案到編輯器導致內核退出](https://github.com/siyuan-note/siyuan/issues/15355)
* [新視窗鎖定後再進入會重複產生托盤](https://github.com/siyuan-note/siyuan/issues/15357)
* [尋找替換會錯誤地將標籤轉換為文字](https://github.com/siyuan-note/siyuan/issues/15372)
* [浮窗中將清單轉為段落區塊後插入位置錯誤](https://github.com/siyuan-note/siyuan/issues/15396)
* [公式相關編輯器狀態異常](https://github.com/siyuan-note/siyuan/issues/15554)
* [資料庫匯總欄位篩選結果不正確](https://github.com/siyuan-note/siyuan/issues/15608)

### 開發重構

* [升級至 Electron v37.3.1](https://github.com/siyuan-note/siyuan/issues/15410)

### 開發者

* [新增外掛程式 `IProtyleOptions.handleEmptyContent`](https://github.com/siyuan-note/siyuan/issues/15398)
* [新增外掛程式 `getActiveTab`](https://github.com/siyuan-note/siyuan/issues/15415)
* [內核 API `exportMdContent` 和 `copyStdMarkdown` 新增參數 `imgTag`](https://github.com/siyuan-note/siyuan/issues/15454)
* [將 `addTopBar` 和 `addStatusBar` 從 `onload` 生命週期調整到 `onLayoutReady`](https://github.com/siyuan-note/siyuan/issues/15455)
* [新增外掛程式 `hideMessage`](https://github.com/siyuan-note/siyuan/issues/15485)
* [新增外掛事件匯流排 `switch-protyle-mode`](https://github.com/siyuan-note/siyuan/issues/15516)
* [`/api/block/getBlockKramdown` 連結/圖片 URL 不再用空格編碼](https://github.com/siyuan-note/siyuan/issues/15611)
* [改進內核 API `/api/filetree/moveDocsByID`](https://github.com/siyuan-note/siyuan/issues/15616)
* [新增外掛程式 `getActiveEditor`](https://github.com/siyuan-note/siyuan/issues/15641)

## 下載

* [B3log](https://b3log.org/siyuan/download.html)
* [GitHub](https://github.com/siyuan-note/siyuan/releases)
