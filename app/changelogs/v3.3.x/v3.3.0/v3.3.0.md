## Overview

This version supports database grouping by field and improves many details.

Please note:

* Old versions cannot open new version databases. If you installed the mobile version from a store, it is recommended to wait for the new version to be available in the store before updating the desktop version
* The multi-select field value of the database template has changed from a string to a string array. Please refer to [here](https://github.com/siyuan-note/siyuan/issues/15575#issuecomment-3210963948) for adaptation

## Changelogs

Below are the detailed changes in this version.

### Feature

* [Database grouping by field](https://github.com/siyuan-note/siyuan/issues/10964)

### Enhancement

* [Improve `Add to Database`](https://github.com/siyuan-note/siyuan/issues/10659)
* [Improve database field default filling](https://github.com/siyuan-note/siyuan/issues/11966)
* [The database rollup field supports using the template field](https://github.com/siyuan-note/siyuan/issues/12384)
* [Display title when flashcard is a document](https://github.com/siyuan-note/siyuan/issues/14201)
* [Improve the database block binding](https://github.com/siyuan-note/siyuan/issues/14511)
* [Improve export preview mode CSS variable value filling](https://github.com/siyuan-note/siyuan/pull/15110)
* [Card view supports displaying field names](https://github.com/siyuan-note/siyuan/issues/15180)
* [Improve document title carriage return processing](https://github.com/siyuan-note/siyuan/issues/15294)
* [Improve pasting performance for large amounts of content](https://github.com/siyuan-note/siyuan/issues/15306)
* [Improve the line number display when custom code block](https://github.com/siyuan-note/siyuan/pull/15324)
* [Improve data sync to avoid conflicts caused by folding block](https://github.com/siyuan-note/siyuan/issues/15329)
* [Deleting a block no longer adds an empty block to the beginning of the doc in some cases](https://github.com/siyuan-note/siyuan/issues/15336)
* [Improve template search highlighting](https://github.com/siyuan-note/siyuan/issues/15338)
* [Export preview mode supports focus use](https://github.com/siyuan-note/siyuan/issues/15340)
* [Code blocks retain attributes when exporting preview](https://github.com/siyuan-note/siyuan/issues/15343)
* [Support code block highlighting template syntax and export code block templates as paragraphs](https://github.com/siyuan-note/siyuan/pull/15345)
* [`Re OCR` popup prompt when Tesseract is not enabled](https://github.com/siyuan-note/siyuan/issues/15367)
* [Improve `<br>` input parsing](https://github.com/siyuan-note/siyuan/issues/15373)
* [Update plugins of highlight.js](https://github.com/siyuan-note/siyuan/pull/15386)
* [Improve card view display](https://github.com/siyuan-note/siyuan/issues/15389)
* [Improve the status bar index creation information prompt](https://github.com/siyuan-note/siyuan/issues/15390)
* [Improve search for emojis in tags](https://github.com/siyuan-note/siyuan/issues/15391)
* [Document supports copying as Markdown](https://github.com/siyuan-note/siyuan/pull/15397)
* [The database rollup field supports duplicating as a copy](https://github.com/siyuan-note/siyuan/issues/15417)
* [Improve HTML clipping](https://github.com/siyuan-note/siyuan/issues/15438)
* [Alert users when .sy file or database .json exceed 8MB](https://github.com/siyuan-note/siyuan/issues/15451)
* [Limit the database title to 512 characters](https://github.com/siyuan-note/siyuan/issues/15459)
* [`Upload asset files to cloud` supports focus use](https://github.com/siyuan-note/siyuan/issues/15462)
* [Improve the style of exporting PDF](https://github.com/siyuan-note/siyuan/pull/15463)
* [Parse `<img>` tags when pasting](https://github.com/siyuan-note/siyuan/issues/15464)
* [The database template field supports using other template fields](https://github.com/siyuan-note/siyuan/issues/15517)
* [Improve database `Drag vertically to fill value`](https://github.com/siyuan-note/siyuan/issues/15518)
* [Tab switching improvements](https://github.com/siyuan-note/siyuan/issues/15546)
* [Filter hidden columns when browsing the current view image of a database table](https://github.com/siyuan-note/siyuan/pull/15548)
* [Database drag and drop, performance and interaction optimization](https://github.com/siyuan-note/siyuan/issues/15552)
* [Remove highlighting when database filter conditions do not perform filter calculations](https://github.com/siyuan-note/siyuan/issues/15558)
* [Improve database template field to use multiple-select field](https://github.com/siyuan-note/siyuan/issues/15575)
* [Improve parsing `<img>` tags when importing](https://github.com/siyuan-note/siyuan/issues/15638)
* [The database rollup field supports using the updated/created field](https://github.com/siyuan-note/siyuan/issues/15662)
* [Manually optimize the data index to reduce space usage and improve performance](https://github.com/siyuan-note/siyuan/issues/15663)
* [Improve database attribute panel](https://github.com/siyuan-note/siyuan/issues/15664)
* [Improve focus positioning when exiting folded blocks](https://github.com/siyuan-note/siyuan/issues/15670)

### Bugfix

* [Database select fields will lose options if options are added too quickly](https://github.com/siyuan-note/siyuan/issues/13261)
* [Inline formulas are not rendered when superblock is canceled](https://github.com/siyuan-note/siyuan/issues/15341)
* [Dragging a file from the assets folder into the editor causes the kernel to exit](https://github.com/siyuan-note/siyuan/issues/15355)
* [The tray is generated repeatedly after the new window is locked and then entered](https://github.com/siyuan-note/siyuan/issues/15357)
* [Find-replace incorrectly converts tags to text](https://github.com/siyuan-note/siyuan/issues/15372)
* [The insertion position is wrong after converting the list to paragraph block in the floating window](https://github.com/siyuan-note/siyuan/issues/15396)
* [Formula-related editor status abnormal](https://github.com/siyuan-note/siyuan/issues/15554)
* [Incorrect results for database rollup field filtering](https://github.com/siyuan-note/siyuan/issues/15608)

### Refactor

* [Upgrade to Electron v37.3.1](https://github.com/siyuan-note/siyuan/issues/15410)

### Development

* [Add plugin function `IProtyleOptions.handleEmptyContent`](https://github.com/siyuan-note/siyuan/issues/15398)
* [Add plugin function `getActiveTab`](https://github.com/siyuan-note/siyuan/issues/15415)
* [Add parameter `imgTag` for kernel API `exportMdContent` and `copyStdMarkdown`](https://github.com/siyuan-note/siyuan/issues/15454)
* [Adjust `addTopBar` and `addStatusBar` from `onload` lifecycle to `onLayoutReady`](https://github.com/siyuan-note/siyuan/issues/15455)
* [Add plugin function `hideMessage`](https://github.com/siyuan-note/siyuan/issues/15485)
* [Add plugin event bus `switch-protyle-mode`](https://github.com/siyuan-note/siyuan/issues/15516)
* [`/api/block/getBlockKramdown` link/image URLs are no longer encoded with spaces](https://github.com/siyuan-note/siyuan/issues/15611)
* [Improve kernel API `/api/filetree/moveDocsByID`](https://github.com/siyuan-note/siyuan/issues/15616)
* [Add plugin function `getActiveEditor`](https://github.com/siyuan-note/siyuan/issues/15641)

## Download

* [B3log](https://b3log.org/siyuan/en/download.html)
* [GitHub](https://github.com/siyuan-note/siyuan/releases)
