.block {
  &__popover {
    background-color: var(--b3-theme-background);
    position: absolute;
    box-shadow: var(--b3-dialog-shadow);
    width: 60vw;
    word-break: break-word;
    border-radius: var(--b3-border-radius-b);
    opacity: 0;
    transition: opacity 75ms linear;
    top: -100px;
    display: flex;
    flex-direction: column;
    min-height: 197px;
    z-index: -1;
    border: 1px solid var(--b3-theme-surface-lighter);
    max-width: 1024px;

    &--open {
      opacity: 1;
    }

    &--embed {
      // åµŒå…¥å—æ¨¡å¼æ ·å¼ - å®Œå…¨åŒ¹é…åµŒå…¥å—å¤–è§‚
      border: 1px dashed var(--b3-theme-on-surface-light) !important;
      background-color: var(--b3-embed-background) !important;
      box-shadow: none !important;
      border-radius: var(--b3-border-radius) !important;  // é»˜è®¤åœ†è§’
      width: auto !important;  // ç¡®ä¿å®½åº¦ç”±JSæ§åˆ¶
      max-width: none !important;  // ç§»é™¤æœ€å¤§å®½åº¦é™åˆ¶
      min-width: none !important;  // ç§»é™¤æœ€å°å®½åº¦é™åˆ¶
      min-height: auto !important;  // ğŸ”‘ å…³é”®ä¿®å¤ï¼šç§»é™¤æœ€å°é«˜åº¦é™åˆ¶
      padding: 0 !important;  // ç§»é™¤æµ®çª—æœ¬èº«çš„paddingï¼Œè®©å†…å®¹åŒºåŸŸå¤„ç†
      box-sizing: border-box !important;  // ç¡®ä¿æ­£ç¡®çš„ç›’æ¨¡å‹
      overflow: hidden !important;  // ğŸ”‘ ç¦æ­¢å†…éƒ¨æ»šåŠ¨
      
      // ğŸ”‘ å¼ºåˆ¶è¦†ç›–ç§»åŠ¨ç«¯æ ·å¼è®¾ç½® - ä½¿ç”¨æ›´å…·ä½“çš„é€‰æ‹©å™¨
      // ç©ºé€‰æ‹©å™¨ç”¨äºç¡®ä¿ä¼˜å…ˆçº§
      
      // å®Œå…¨éšè—é¡¶éƒ¨å·¥å…·æ åŒºåŸŸ
      .block__icons {
        display: none !important;
      }
      
      // éšè—æ‹–æ‹½æ§åˆ¶ç‚¹ï¼ˆé™¤äº†é¡¶éƒ¨ï¼‰
      .resize__rd, .resize__ld, .resize__lt, .resize__rt, 
      .resize__r, .resize__d, .resize__l {
        display: none;
      }
      
      // ğŸ”‘ ä¼˜åŒ–é¡¶éƒ¨æ‹–æ‹½æ¡ï¼Œæ›´å®¹æ˜“è§¦å‘è½¬æ¢
      .resize__t {
        cursor: move;
        height: 12px !important;  // ğŸ”‘ æ˜¾è‘—å¢åŠ æ‹–æ‹½åŒºåŸŸé«˜åº¦
        background: linear-gradient(to bottom, 
          rgba(var(--b3-theme-primary-lighter-rgb), 0.15), 
          rgba(var(--b3-theme-primary-lighter-rgb), 0.05));  // ğŸ”‘ æ¸å˜èƒŒæ™¯æ›´æ˜æ˜¾
        border-radius: var(--b3-border-radius) var(--b3-border-radius) 0 0;
        transition: all 0.2s;
        
        &:hover {
          background: linear-gradient(to bottom, 
            rgba(var(--b3-theme-primary-rgb), 0.3), 
            rgba(var(--b3-theme-primary-rgb), 0.1));  // ğŸ”‘ æ‚¬åœæ—¶æ›´æ˜æ˜¾
        }
        
        // ğŸ”‘ æ·»åŠ æ‹–æ‹½æç¤ºå›¾æ ‡
        &::after {
          content: "â‹®â‹®â‹®";
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 8px;
          line-height: 4px;
          letter-spacing: 2px;
          color: var(--b3-theme-on-surface);
          opacity: 0.4;
          pointer-events: none;
        }
        
        &:hover::after {
          opacity: 0.8;
          color: var(--b3-theme-primary);
        }
      }
      
      // å†…å®¹åŒºåŸŸæ ·å¼åŒ¹é…åµŒå…¥å—  
      .block__content {
        padding: 2px 4px !important;  // ğŸ”‘ æ¢å¤ï¼šåŒ¹é…åµŒå…¥å—çš„padding
        background-color: transparent !important;
        border-radius: 0 !important;
        border: none !important;
        box-shadow: none !important;
        
        // ç§»é™¤å†…å±‚è¾¹æ¡†å’Œè£…é¥°
        .protyle-content {
          padding: 0 !important;
          margin: 0 !important;
          border: none !important;
          background: transparent !important;
        }
        
        // ğŸ”‘ protyle-wysiwygç§»é™¤paddingï¼Œå› ä¸ºå¤–å±‚å·²æœ‰
        .protyle-wysiwyg {
          padding: 0 !important;  // ç§»é™¤paddingï¼Œå¤–å±‚å·²å¤„ç†
          margin: 0 !important;   // ç¡®ä¿æ²¡æœ‰é¢å¤–margin
        }
        
        // ğŸ”‘ å…³é”®ä¿®å¤ï¼šç§»é™¤protyleçš„æœ€å°é«˜åº¦é™åˆ¶
        .protyle {
          min-height: auto !important;  // ç§»é™¤155pxæœ€å°é«˜åº¦
          // ä¿æŒå…¶ä»–é»˜è®¤æ ·å¼
        }
        
        // ğŸ”‘ é¢åŒ…å±‘ä¸é¢å¤–æ·»åŠ paddingï¼Œå¤–å±‚å·²å¤„ç†
        .protyle-breadcrumb {
          margin: 0 !important;
          // ä¸è®¾ç½®é¢å¤–paddingï¼Œä½¿ç”¨å¤–å±‚çš„padding
          
          // éšè—é¢åŒ…å±‘åŒºåŸŸçš„é¢å¤–æŒ‰é’®ï¼Œåªä¿ç•™çº¯å‡€çš„é¢åŒ…å±‘
          .protyle-breadcrumb__space,
          .block__icon,
          .fn__flex-center,
          button {
            display: none !important;
          }
          
          // ç¡®ä¿é¢åŒ…å±‘æ æœ¬èº«çš„æ˜¾ç¤ºç”±JSæ§åˆ¶
          .protyle-breadcrumb__bar {
            margin: 0 !important;
            padding: 0 !important;
          }
        }
      }
      
      // ğŸ”‘ åŠ¨æ€è¾¹æ¡†æ§åˆ¶ - æ ¹æ®è£å‰ªçŠ¶æ€è°ƒæ•´æ ·å¼
      &.block__popover--embed-clipped-top {
        border-top: none !important;
        border-radius: 0 0 var(--b3-border-radius) var(--b3-border-radius) !important;
      }
      
      &.block__popover--embed-clipped-bottom {
        border-bottom: none !important;
        border-radius: var(--b3-border-radius) var(--b3-border-radius) 0 0 !important;
      }
      
      &.block__popover--embed-clipped-both {
        border-top: none !important;
        border-bottom: none !important;
        border-radius: 0 !important;
      }
      
      // ç¦ç”¨æµ®çª—å†…éƒ¨æ‰€æœ‰æ»šåŠ¨
      .block__content {
        overflow: hidden !important;
        
        // ğŸ”‘ åªç§»é™¤protyleçš„æœ€å°é«˜åº¦é™åˆ¶ï¼Œä¿æŒå…¶ä»–é»˜è®¤æ ·å¼
        .protyle {
          min-height: auto !important;  // ç§»é™¤155pxæœ€å°é«˜åº¦
          // ä¿æŒå…¶ä»–é»˜è®¤æ ·å¼ä¸å˜
        }
      }
      
      .protyle-content {
        overflow: hidden !important;
        padding: 0 !important;
        margin: 0 !important;
      }
      
      // ğŸ”‘ wysiwygå…ƒç´ åªè°ƒæ•´å¤–å±‚paddingï¼Œä¿æŒå†…éƒ¨ç»“æ„ä¸å˜
      .protyle-wysiwyg {
        // åªè®¾ç½®å¤–å±‚paddingåŒ¹é…åµŒå…¥å—ï¼Œä¸å¹²æ‰°å†…éƒ¨èŠ‚ç‚¹å¸ƒå±€
        // å†…éƒ¨èŠ‚ç‚¹ä¿æŒåŸæœ‰çš„é»˜è®¤æ ·å¼
      }
    }

    & > .block__icons {
      border-radius: var(--b3-border-radius-b) var(--b3-border-radius-b) 0 0;

      & > .resize__move {
        height: 42px;
      }
    }
  }

  &__content {
    overflow: auto;
    display: flex;
    flex-direction: column;
    border-radius: 0 0 var(--b3-border-radius-b) var(--b3-border-radius-b);
    flex: 1;
  }

  &__edit {
    display: flex;
    flex-direction: column;
    border-bottom: 1px solid var(--b3-theme-surface-lighter);

    &:last-child {
      border-bottom: 0;
    }
  }

  &__icons {
    padding: 0 8px;
    display: flex;
    align-items: center;
    min-height: 42px;
    flex-shrink: 0;

    &--menu {
      background-color: var(--b3-menu-background);
    }

    &:hover .block__icon:not([disabled]) {
      opacity: 1;
    }

    &:hover [disabled].block__icon {
      opacity: .38;
    }

    .counter {
      background-color: var(--b3-theme-background);
    }
  }

  &__icon {
    color: var(--b3-theme-on-surface);
    cursor: pointer;
    opacity: 0;
    border: 0;
    background: transparent;
    flex-shrink: 0;
    padding: 5px;
    display: flex;
    align-items: center;
    border-radius: var(--b3-border-radius);
    transition: var(--b3-transition), opacity .3s cubic-bezier(0, 0, .2, 1) 0ms;
    line-height: 14px;

    &:hover:not([disabled]):not(.ft__primary):not(.block__icon--warning),
    &--active {
      color: var(--b3-theme-on-background);
      background-color: var(--b3-list-icon-hover);
    }

    &--show {
      opacity: 1;

      &.block__icon[disabled] {
        opacity: .38;
        cursor: not-allowed;
      }
    }

    &--warning:hover {
      color: var(--b3-theme-error);
      background-color: var(--b3-list-icon-hover);
    }

    svg {
      height: 14px;
      width: 14px;
    }
  }

  &__logo {
    white-space: nowrap;
    margin-right: 8px;
    display: flex;
    align-items: center;
  }

  &__logoicon {
    margin-right: 4px;
    height: 16px;
    width: 16px;
    padding: 4px;
    flex-shrink: 0;
  }
}

// ğŸ”‘ å¼ºåˆ¶è¦†ç›–mobile.scssä¸­çš„80vwå®½åº¦è®¾ç½® - ä½¿ç”¨åŒç±»åé€‰æ‹©å™¨æé«˜ä¼˜å…ˆçº§
.block__popover.block__popover--embed {
  width: auto !important;
}
